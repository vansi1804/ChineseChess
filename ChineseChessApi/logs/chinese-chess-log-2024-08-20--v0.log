2024-08-20 14:17:04,828 INFO  [background-preinit] o.h.v.i.u.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-20 14:17:04,858 INFO  [restartedMain] o.s.b.StartupInfoLogger: Starting ChineseChessApiApplication using Java 19.0.2 with PID 40255 (/Users/nvs/Downloads/Project/ChineseChess/ChineseChessAPI/target/classes started by nvs in /Users/nvs/Downloads/Project/ChineseChess/ChineseChessAPI)
2024-08-20 14:17:04,858 INFO  [restartedMain] o.s.b.SpringApplication: The following 1 profile is active: "dev"
2024-08-20 14:17:04,887 INFO  [restartedMain] o.s.b.l.DeferredLog: Vault location [secret/ChineseChess/dev] not resolvable: Not found
2024-08-20 14:17:04,888 INFO  [restartedMain] o.s.b.l.DeferredLog: Vault location [secret/ChineseChess] not resolvable: Not found
2024-08-20 14:17:04,888 INFO  [restartedMain] o.s.b.l.DeferredLog: Vault location [secret/application/dev] not resolvable: Not found
2024-08-20 14:17:04,888 INFO  [restartedMain] o.s.b.l.DeferredLog: Vault location [secret/application] not resolvable: Not found
2024-08-20 14:17:04,889 INFO  [restartedMain] o.s.b.l.DeferredLog: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-20 14:17:04,889 INFO  [restartedMain] o.s.b.l.DeferredLog: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-20 14:17:05,636 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-20 14:17:05,637 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-20 14:17:05,787 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 145 ms. Found 9 JPA repository interfaces.
2024-08-20 14:17:06,176 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-20 14:17:06,177 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-08-20 14:17:06,205 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.MatchRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,206 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.MoveHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,206 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.PieceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,207 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.PlayerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,207 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.RankRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,208 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,208 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.TrainingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,208 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,209 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nvs.data.repository.VipRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-08-20 14:17:06,209 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2024-08-20 14:17:06,551 INFO  [restartedMain] o.s.c.c.s.GenericScope: BeanFactory id=2269dc87-ec71-3915-b069-de7960ddd534
2024-08-20 14:17:07,459 INFO  [restartedMain] o.s.b.w.e.t.TomcatWebServer: Tomcat initialized with port 8088 (http)
2024-08-20 14:17:07,471 INFO  [restartedMain] o.a.j.l.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8088"]
2024-08-20 14:17:07,472 INFO  [restartedMain] o.a.j.l.DirectJDKLog: Starting service [Tomcat]
2024-08-20 14:17:07,472 INFO  [restartedMain] o.a.j.l.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-08-20 14:17:07,518 INFO  [restartedMain] o.a.j.l.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2024-08-20 14:17:07,519 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2629 ms
2024-08-20 14:17:07,845 INFO  [restartedMain] o.h.j.i.u.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-20 14:17:07,882 INFO  [restartedMain] o.h.Version: HHH000412: Hibernate ORM core version 6.4.4.Final
2024-08-20 14:17:07,901 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-20 14:17:08,058 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-20 14:17:08,082 INFO  [restartedMain] c.z.h.HikariDataSource: HikariPool-1 - Starting...
2024-08-20 14:17:08,214 INFO  [restartedMain] c.z.h.p.HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24443da9
2024-08-20 14:17:08,215 INFO  [restartedMain] c.z.h.HikariDataSource: HikariPool-1 - Start completed.
2024-08-20 14:17:08,236 WARN  [restartedMain] o.h.e.j.d.i.DialectFactoryImpl: HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-20 14:17:08,237 WARN  [restartedMain] o.h.e.j.d.i.DialectFactoryImpl: HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-08-20 14:17:09,090 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-20 14:17:09,195 INFO  [restartedMain] o.s.o.j.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-20 14:17:09,463 DEBUG [restartedMain] o.s.w.f.GenericFilterBean: Filter 'logFilter' configured for use
2024-08-20 14:17:09,564 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-08-20 14:17:09,712 INFO  [restartedMain] o.s.d.j.r.q.QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
2024-08-20 14:17:11,766 INFO  [restartedMain] o.s.b.a.e.w.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2024-08-20 14:17:11,839 INFO  [restartedMain] o.s.s.w.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6db6efdd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63336c1d, org.springframework.security.web.context.SecurityContextHolderFilter@31399c76, org.springframework.security.web.header.HeaderWriterFilter@3506daea, org.springframework.web.filter.CorsFilter@6802a926, org.springframework.web.filter.CharacterEncodingFilter@3baf702e, org.springframework.security.web.authentication.logout.LogoutFilter@3d528df1, com.nvs.config.security.jwt.JwtFilter@2d17cc1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@372b7a22, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@284043d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a2b43, org.springframework.security.web.session.SessionManagementFilter@209a7173, org.springframework.security.web.access.ExceptionTranslationFilter@629d1055, org.springframework.security.web.access.intercept.AuthorizationFilter@5da0545e]
2024-08-20 14:17:12,584 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-20 14:17:12,674 INFO  [restartedMain] o.a.j.l.DirectJDKLog: Starting ProtocolHandler ["http-nio-8088"]
2024-08-20 14:17:12,689 INFO  [restartedMain] o.s.b.w.e.t.TomcatWebServer: Tomcat started on port 8088 (http) with context path ''
2024-08-20 14:17:12,719 INFO  [restartedMain] o.s.b.StartupInfoLogger: Started ChineseChessApiApplication in 8.742 seconds (process running for 9.545)
2024-08-20 14:17:12,769 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Starting application initialization...
2024-08-20 14:17:12,770 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Initializing roles...
2024-08-20 14:17:12,854 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- No new roles to initialize.
2024-08-20 14:17:12,855 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Initializing VIPs...
2024-08-20 14:17:12,884 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- VIPs already initialized.
2024-08-20 14:17:12,884 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Initializing ranks...
2024-08-20 14:17:12,887 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Ranks already initialized.
2024-08-20 14:17:12,887 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Initializing admin player...
2024-08-20 14:17:12,887 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Checking if admin user exists...
2024-08-20 14:17:12,889 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Admin user already exists. Skipping initialization.
2024-08-20 14:17:12,889 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Admin player already exists. Skipping admin player initialization.
2024-08-20 14:17:12,889 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Checking game pieces already existing.
2024-08-20 14:17:12,892 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Game pieces already initialized.
2024-08-20 14:17:12,892 INFO  [restartedMain] c.n.s.i.ApplicationRunnerImpl: -- Application initialization completed.
2024-08-20 14:17:18,890 INFO  [http-nio-8088-exec-2] o.a.j.l.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-20 14:17:18,890 INFO  [http-nio-8088-exec-2] o.s.w.s.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2024-08-20 14:17:18,892 INFO  [http-nio-8088-exec-2] o.s.w.s.FrameworkServlet: Completed initialization in 2 ms
2024-08-20 14:17:18,906 WARN  [http-nio-8088-exec-2] c.n.c.s.j.JwtFilter: -- No valid Authorization header found in request
2024-08-20 14:17:18,907 WARN  [http-nio-8088-exec-2] c.n.c.s.j.JwtFilter: -- Username is null, cannot set authentication
2024-08-20 14:17:18,911 INFO  [http-nio-8088-exec-2] c.n.c.l.CustomURLFilter: 
LOGGING REQUEST-----------------------------------
[REQUEST-ID]: b9fe23d6-0c65-4784-bc5b-c9056c2d2853
[PATH]: /api/auth/login
[QUERIES]: null
[HEADERS]: 
---accept-language : vi
---content-type : application/json
---user-agent : PostmanRuntime/7.41.1
---accept : */*
---postman-token : af114939-584d-4b21-a690-dccf24fd4d93
---host : localhost:8088
---accept-encoding : gzip, deflate, br
---connection : keep-alive
---content-length : 81
LOGGING REQUEST-----------------------------------

2024-08-20 14:17:18,912 DEBUG [http-nio-8088-exec-2] o.s.w.f.CommonsRequestLoggingFilter: Before request [POST /api/auth/login]
2024-08-20 14:17:18,912 WARN  [http-nio-8088-exec-2] c.n.c.s.j.JwtFilter: -- No valid Authorization header found in request
2024-08-20 14:17:18,912 WARN  [http-nio-8088-exec-2] c.n.c.s.j.JwtFilter: -- Username is null, cannot set authentication
2024-08-20 14:17:18,926 INFO  [http-nio-8088-exec-2] c.n.c.l.LoggingService: 
LOGGING REQUEST BODY-----------------------------------
[TRACE-ID]: a729bb3d-f72e-444f-9a97-cba0dbe6d0b9
[REQUEST-ID]: a729bb3d-f72e-444f-9a97-cba0dbe6d0b9
[BODY REQUEST]: 
null
LOGGING REQUEST BODY-----------------------------------

2024-08-20 14:17:18,949 INFO  [http-nio-8088-exec-2] c.n.c.AuthController: -- auth/logging
2024-08-20 14:17:18,949 INFO  [http-nio-8088-exec-2] c.n.s.i.AuthServiceImpl: -- Attempting login for phone number: null
2024-08-20 14:17:19,223 INFO  [http-nio-8088-exec-2] c.n.s.i.AuthServiceImpl: -- Authentication successful for phone number: null
2024-08-20 14:17:19,248 INFO  [http-nio-8088-exec-2] c.n.c.s.j.JwtService: -- Token created for user 'null', expires at: Tue Aug 20 15:17:19 ICT 2024
2024-08-20 14:17:19,249 INFO  [http-nio-8088-exec-2] c.n.c.s.j.JwtService: -- Token created for user 'null', expires at: Wed Aug 21 14:17:19 ICT 2024
2024-08-20 14:17:19,249 INFO  [http-nio-8088-exec-2] c.n.s.i.AuthServiceImpl: -- Generated JWT tokens for phone number: null
2024-08-20 14:17:19,256 INFO  [http-nio-8088-exec-2] c.n.c.l.LoggingService: 
LOGGING RESPONSE-----------------------------------
[TRACE-ID]: a729bb3d-f72e-444f-9a97-cba0dbe6d0b9
[REQUEST-ID]: a729bb3d-f72e-444f-9a97-cba0dbe6d0b9
[BODY RESPONSE]: 
null
LOGGING RESPONSE-----------------------------------

2024-08-20 14:17:19,261 DEBUG [http-nio-8088-exec-2] o.s.w.f.CommonsRequestLoggingFilter: REQUEST DATA : POST /api/auth/login, payload={
    
    "phoneNumber": "0589176839",
    "password": "admin"

    
    
}]
2024-08-20 14:17:37,796 INFO  [SpringContextShutdownHook] o.s.o.j.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-20 14:17:37,798 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-20 14:17:37,802 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource: HikariPool-1 - Shutdown completed.
